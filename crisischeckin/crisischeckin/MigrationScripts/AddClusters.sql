CREATE TABLE [dbo].[Cluster] (
    [Id] [int] NOT NULL IDENTITY,
    [Name] [nvarchar](max) NOT NULL,
    CONSTRAINT [PK_dbo.Cluster] PRIMARY KEY ([Id])
)
ALTER TABLE [dbo].[Person] ADD [ClusterId] [int]
ALTER TABLE [dbo].[Commitment] ADD CONSTRAINT [FK_dbo.Commitment_dbo.Disaster_DisasterId] FOREIGN KEY ([DisasterId]) REFERENCES [dbo].[Disaster] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[Person] ADD CONSTRAINT [FK_dbo.Person_dbo.Cluster_ClusterId] FOREIGN KEY ([ClusterId]) REFERENCES [dbo].[Cluster] ([Id])
CREATE INDEX [IX_DisasterId] ON [dbo].[Commitment]([DisasterId])
CREATE INDEX [IX_ClusterId] ON [dbo].[Person]([ClusterId])
INSERT INTO Cluster (Name) VALUES ('Agriculture Cluster');
INSERT INTO Cluster (Name) VALUES ('Camp Coordination and Management Cluster');
INSERT INTO Cluster (Name) VALUES ('Early Recovery Cluster');
INSERT INTO Cluster (Name) VALUES ('Emergency Shelter Cluster');
INSERT INTO Cluster (Name) VALUES ('Emergency Telecommunications Cluster');
INSERT INTO Cluster (Name) VALUES ('Food Cluster');
INSERT INTO Cluster (Name) VALUES ('Health Cluster');
INSERT INTO Cluster (Name) VALUES ('Logistics Cluster');
INSERT INTO Cluster (Name) VALUES ('Nutrition Cluster');
INSERT INTO Cluster (Name) VALUES ('Protection Cluster');
INSERT INTO Cluster (Name) VALUES ('Water and Sanitation Cluster');
INSERT INTO [__MigrationHistory] ([MigrationId], [Model], [ProductVersion]) VALUES ('201308111819397_AddClusters', 0x1F8B0800000000000400DD5BDD6EDB3614BE1FB0771074B50DA895B4BBE80AA745EA2443B0E60771DADB8091689B284569221524CFB68B3DD25E6187924551A47E68258ED3DC0436C5F3913CFC7874783EE7BF7FFE9D7EBA8FA97787334E1276E0EF4FF67C0FB33089085B1EF8B958BC79EF7FFAF8F34FD3E328BEF7BE55FDDEC97E60C9F881BF1222FD10043C5CE118F1494CC22CE1C9424CC2240E5094046FF7F6FE08F6F7030C103E6079DEF42A6782C4B8F8025F67090B712A7244CF920853BE6E8727F302D53B4731E6290AF1815FF6F0BD434A108C3EC774E17BE9EF1FBE723C1759C296F3140982E8F5438AE1F902518ED773FD90FEEE3ADDBDB772BA01622C110097B051CBF5D5426029C7B064F120A7552CE7C09F25714C448C99D0FB41CFBFF043A3019A2EB324C59978B8C28BB5F569E47B41D32E300D9599662327009F9878F7D6F7CE734AD12DC5CA4FE0C8B94832FC2766384302479748089C31698B8B0558A31A635C024712363C523FCA5CA04C1CC1042A18F9F91A28B331D2318B9E04E78870C4C1151BAFEC1CDD9165C1A10E44DFBBC2B4E8C057242D293DA9C97153F73BC992F82AA10DEEA8C737F324CF42B9D0A4BBCF35CA965834E7380D6A6AF612564DE415D155FEAD4681F801610FDC4CEE71F405B3A558A991CED07DD5021F7DEF2B231025C1486479834CE5F7FE414FF96128C89D1AF873021B86D800979CF7A93C82AF699720B8F71D3C179FCF683E707C5D504E48C6C54E38F305ED68E0E31811FAECA35EAE1286CFF3F856C6BD6D8FDD19A2D7A4698DD0E529BB515DEAE0DC7C62C565E3F1A3427235FA2B3AEB3AC95D5EB1CEBE9241E435394AAEE7192242977F0F394F42529C0A2BA1BDE948152019F31C12987239CD3408D6905341524A4298CC81FF9BE59E7EF0EA9869E07562D584DEF74D525CB0234CB1C09E7C6FCB0BD00CF110457624015F45CD16E011CEE486220AD71C2E324498B0494758485244871760983A32564E4D0D623E39C229669274C37BE332BA9E29DBB35083198E1BF2D334D008D7CF43233277B1A42B4CD7045927521B30AF23B6EB8CAEDE174DD0BDC964DFC21DC59DF6293C036DDAFDE932B0969B3D0361CA700636022C7056CD21239CF0D90A87DF89993B9716732CAC40C77DAF8E8E2D31CB224A13A83A2A6D3075741A0029FDDE0651F1770060EDFED6B5546C1D8090EFA236FBE29D6B1A6BFBD2E653EDC2ABF5ECB9179B94717BCBA82518FB6931D0EDBDA2C169BB6ABE1E9A4B77708B9965DA1EE98B762EF14E9BB862528F0F3A229CEE4D4527E7D55739863A94750530284B8055A930E8A8154ECF509A42FAA3D50ED72DDEBC2C1CCEDECC372FE2C5254610F2965A9E9AAD1A09123AB4C4C653C99B081737C72324D02D9209D92C8AED6E2E21A81ACB8E44F69E5587B1B2919F4BBBD27793AE12A4EEBF135892EC51AC0EB79E1ADBB828DD228AB296BC7896D03C66DDAF9C6EEBBAB6A863D4ADEE485A7D5187D29ADDB154855147528DEE387ADEA443F5E553F24418FB64BD402D1E58296B935A4EC4AB63DC08DA75456E07D2759B6E8772E5054BB72F5BDC11EA625F6316AAF5C56C6915FD476C685BC5D1693BBB0CB7B39955195147A8DADC51B46C5507EA4962BBB1B47AA28EA535BB63D515421DAA6EDD20A29525BF463C2B9B3688D57A01AF11AEF5072F86FC2A6919F3166D4FBD5C5EA15D96BB0E663BDA85F21A31620BECDA9E93FFDBCDB6177CEC0DA85B9F7913AC94DBECA24657A9B791624FD7E9EEB0666FE5BF6517DF0317DD9148E6BEF3073808F1447698CCFFA6334A8AFB73D5E10C31B2C05C5C27DF315C7C203D7F6FFC0460843C1F701ED197ABD113E980C11AF18632B629CF17833C569C8FE0B37802717E348E2DCE0FAFEB0790BDB7C2005D326077280B5728FB2546F7BF3E56C5BE254FE6F25D29D85B717853BC3688394ABA1E816109D78FDA7A538C7E145843607E14528B68BC01DECB175DB71E0F9E306AEE466DDDDA011EC9F6ED88A77581FCB9D5CCB65AF868C17694BCD5533BDAA210FAAA844F25268C94254D316094663A4E17EFBC696F49CDFC71E44B4B62E8B870DB179B7E05B3BCAA416E7E9BC03E97716E84C2D92B70B68DB1A1FCD9A37EB6A16FA68CF609A3ADFED94035ED144DDB80772CA79A9BD9ACC8BB29A71DC2EBCB924A8D7D6FD4EA86C5D1164D753B5AA85D8081B8A2FD6B0504354E963584FC470B86C34644517D4ED922A9629B31A3AA8B91179D6181E0CA8E0E3341162814F038C49C173F42FB86685EE4F6B7383A6517B94873014BC6F12D6DFCB04D06C8BEF10BC1B739E7E9455AFC14F3299600D324B2EA70C13EE784466ADE272D996F07848CBCEB6453EEA59049E7F241219DC395C40D68ED3EF5C2B8C6714A018C5FB03992D7ECAEB90DFBB0E9B1E91141CB0CC57C8D51DBC357A05F14DF7FFC1FF9C4CB171C340000, '5.0.0.net45')
